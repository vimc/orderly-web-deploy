language: python
python: 3.5

before_install:
  - ./proxy/build
  - docker pull vimc/orderly.server:master
  - docker pull vimc/orderly-web:master
  - docker pull vimc/orderlyweb-migrate:master

install:
  - pip3 install codecov pycodestyle

script:
  - pip3 install -r requirements.txt
  - coverage run --source=orderly_web setup.py test
  - pycodestyle orderly_web test

after_success:
  - codecov

services:
  - docker
